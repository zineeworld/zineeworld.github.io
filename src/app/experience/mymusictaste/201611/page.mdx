import { LayoutBase } from "@components/Layout/LayoutBase";

<LayoutBase type="mdx" date="2016.11">
  # Python Scrapy로 디씨인사이드 갤러리 크롤링하기

  ## 시작하며
  ---
  게으른 수니는 일일이 게시물을 확인하기가 귀찮습니다. 하지만 사진은 보고싶지요. 디씨인사이드 비 갤러리 개념글의 사진만 모아진 페이지가 있으면 참 좋겠다고 생각하던 찰나, 동료 개발자의 원데이 크롤링 세미나를 듣고 직접 만들어 보기로 했습니다. 제 수준을 먼저 말씀드리자면 UI 개발 3년차이고 파이썬은 처음 써봅니다. Hello World를 찍을 수 있는 수준이 별 1개라고 쳤을 때, 이 크롤러 개발 난이도는 별 2개 정도 되는 것 같습니다. 튜토리얼을 무리없이 따라 할 수 있다면 디씨인사이드 갤러리 크롤링도 쉽게 하실 수 있을 겁니다.

  ## 사용기술
  ---
  - Scrapy(Tutorial) : 파이썬 크롤링 프레임워크
  - Masonry.js : 레이아웃 정렬을 위한 플러그인
  - ImagesLoaded.js : 이미지 로드 후 레이아웃 재정렬을 위해 필요한 플러그인

  ## 개발과정
  ---
  ### 0. 선행학습 : 개발 환경 셋팅 및 기초 튜토리얼

  ### 1. 비 갤러리 개념글 크롤링하여 json 파일로 뽑기

  ### 2. 이미지 갤러리 만들기

  ### 2-1. 이슈

  ### 2-2. 이슈2

  ## 결과화면
  ---

  ## 코멘트
  ---
  진정한 덕업일치의 사이드 프로젝트라 재미있게 만들 수 있었습니다. 예전부터 생각만 했던 것을 직접 만들어 보았다는 점에서 뿌듯합니다. css 선택자를 사용하는 부분에 있어서는 기존 지식을 적용할 수 있어서 수월했습니다.

  파이썬은 처음이어서 기초 문법도 습득하지 않은 채 튜토리얼에 나와 있는 코드만을 이용해서 짜서 부족한 부분이 많습니다. 특히 파싱한 이미지 주소 치환이나 특정 텍스트 포함시 배제 하는 것 등을 처음에 크롤링 할때 처리하는게 맞다고 생각합니다. 그런데 파이썬이 익숙치 않아서 자바스크립트로 처리한 점이 마음에 걸리네요. 파이썬 기초 공부 좀 한 뒤에 리팩토링 하겠다고 다짐(...) 해봅니다. [beautifulsoup4](https://www.crummy.com/software/BeautifulSoup/bs4/doc/) 라는 다른 크롤링 프레임워크도 있다고 하니 그것도 사용해 보고싶습니다.

  크롤링이 핵심이긴 한데 긁어온 데이터를 보기 좋게 뿌려주는 것이 오히려 더 오랜 시간을 잡아 먹었습니다. 이래서 프론트엔드를 싫어하시는 분들이 계신 건가 잠깐 그 분들의 마음이 이해가 갔어요. 메이슨리 레이아웃이 어떤 건지는 알고 있었지만 실 프로젝트에 사용해 본적은 없었는데, 이번 기회를 통해 써 볼 수 있어서 좋았습니다.

  메이슨리 대신 css flexbox로 레이아웃을 잡아보았으나 이미지 간의 높이 차이가 많이 나서 하단으로 갈 수록 정렬이 많이 망가지는 것을 확인했습니다. 플렉스 박스는 고만고만한 높이의 요소들을 정렬할 때 쓰는 것이 좋다는 점도 알았습니다. 생각보다 이것저것 쏠쏠하게 배운 사이드 프로젝트였습니다. 크롤링의 세계로 이끌어주신 Selo님께 감사하며 마치겠습니다!
</LayoutBase>